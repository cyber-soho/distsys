# Distributed Systems
## Undergraduate Course Plan (Revised)

**Credits:** 1-2-2 (1h Lecture + 4h Project Work)  
**Focus:** Project-Based Learning with SysAdmin/Ops Emphasis  
**Duration:** 16 Weeks

---

## Course Overview

Students will build a **distributed infrastructure platform** incrementally across the semester. Each module adds new distributed systems concepts while reinforcing system administration practices.

### Semester Project: "InfraScale"
A multi-service infrastructure featuring:
- Networked services with proper naming and discovery
- Distributed storage and file sharing
- Process migration capabilities
- Full containerization and orchestration with OpenShift

---

## Schedule Overview

| Weeks | Activity |
|-------|----------|
| 1–6 | Modules 1–6 (Project Phase 1) |
| 7 | Mid-term Review |
| 8 | Mid-term Exam |
| 9 | Vacation |
| 10–14 | Modules 7–10 (Project Phase 2) |
| 15 | Final Review |
| 16 | Final Exam |

---

## Phase 1: Foundations (Weeks 1–6)

### Module 1: Fundamentals & Development Environment
**Week 1**

| Lecture (1h) | Project Work (4h) |
|--------------|-------------------|
| What are distributed systems? Characterization, models, transparency. CAP theorem overview. Introduction to version control (Git workflows, branching strategies). | Set up development environment: Linux VMs (Vagrant or cloud instances), Git, SSH key management. Create project repository. Deploy first service (basic HTTP file server). |

**Deliverable:** Two networked VMs with SSH access and a running HTTP service.

---

### Module 2: Name Services & Inter-Process Communication
**Week 2**

| Lecture (1h) | Project Work (4h) |
|--------------|-------------------|
| Naming in distributed systems. DNS architecture and resolution. Directory services (LDAP basics). Service naming conventions. | Set up local DNS server (BIND9). Configure forward/reverse zones for project services. Implement LDAP directory for user management. Services resolve each other by name, not IP. |

**Deliverable:** Working DNS infrastructure with all services using hostname resolution.

---

### Module 3: Containerization
**Week 3**

| Lecture (1h) | Project Work (4h) |
|--------------|-------------------|
| Containers vs VMs. Dockerfile best practices. Image layering and optimization. Container registries. Podman as Docker alternative. | Write Dockerfiles for existing services. Create docker-compose.yml for local orchestration. Set up private container registry. Push images to registry. |

**Deliverable:** Containerized services running via Docker Compose with private registry.

---

### Module 4: Remote Invocation & Communication Patterns
**Week 4**

| Lecture (1h) | Project Work (4h) |
|--------------|-------------------|
| RPC mechanisms. REST vs gRPC. Message brokers (RabbitMQ). Synchronous vs asynchronous communication. API documentation. | Build API gateway service. Implement REST communication between services. Add RabbitMQ for async tasks (e.g., batch file processing jobs). Document APIs with OpenAPI/Swagger. |

**Deliverable:** Multi-service communication via REST and message queues.

---

### Module 5: Process Management
**Week 5**

| Lecture (1h) | Project Work (4h) |
|--------------|-------------------|
| Process migration concepts. Code mobility (weak vs strong). Remote execution. Job scheduling in distributed environments. Systemd and process supervision. | Implement job scheduler service that distributes tasks across worker nodes. Create worker agents that can receive and execute code/tasks remotely. Set up systemd units for service management. |

**Deliverable:** Distributed job execution system with process supervision.

---

### Module 6: Service Discovery & Load Balancing
**Week 6**

| Lecture (1h) | Project Work (4h) |
|--------------|-------------------|
| Service discovery patterns (DNS-based, registry-based). Load balancing algorithms. Reverse proxies (Nginx, HAProxy). Health checks and failover. | Deploy HAProxy as load balancer. Configure health checks for all services. Run multiple instances of worker nodes behind load balancer. Integrate with DNS for service discovery. |

**Deliverable:** Load-balanced services with health monitoring and automatic failover.

---

## Mid-Term (Weeks 7–8)

### Week 7: Mid-Term Review
- Review of Modules 1–6
- Q&A session
- Practice problems: DNS configuration, container troubleshooting, process management

### Week 8: Mid-Term Exam
- Written portion: naming concepts, communication patterns, process management theory
- Practical portion: debug DNS issues, fix broken container setup, configure load balancer

---

## Week 9: Vacation

---

## Phase 2: Advanced Topics (Weeks 10–14)

### Module 7: Container Orchestration with OpenShift
**Week 10**

| Lecture (1h) | Project Work (4h) |
|--------------|-------------------|
| Why orchestration? OpenShift architecture. Projects, Pods, Deployments, Services, Routes. oc CLI basics. OpenShift vs vanilla Kubernetes. | Set up OpenShift cluster (CodeReady Containers or cloud sandbox). Migrate docker-compose services to OpenShift. Write Deployment configs and expose Routes. |

**Deliverable:** All services running on OpenShift cluster with external routes.

---

### Module 8: Distributed File Systems
**Week 11**

| Lecture (1h) | Project Work (4h) |
|--------------|-------------------|
| DFS concepts and architecture. NFS protocol and configuration. HDFS architecture (NameNode, DataNode). Replication and fault tolerance. Mounting and access control. | Deploy NFS server for shared configuration/data between services. Set up small HDFS cluster (1 NameNode + 2 DataNodes). Integrate file storage with existing services (e.g., job scheduler stores results in HDFS). |

**Deliverable:** Hybrid storage system with NFS for configs and HDFS for large data.

---

### Module 9: Data Management & Consistency
**Week 12**

| Lecture (1h) | Project Work (4h) |
|--------------|-------------------|
| Database per service pattern. CAP theorem in practice. Eventual consistency. Replication strategies. Backup and recovery procedures. | Add PostgreSQL with streaming replication (primary + standby). Configure automated backups. Implement data access layer in services. Test failover scenarios. |

**Deliverable:** Replicated database with backup/recovery procedures documented.

---

### Module 10: Observability & CI/CD
**Weeks 13–14**

| Lecture (1h) | Project Work (4h) |
|--------------|-------------------|
| **Week 13 - Observability:** Three pillars (logs, metrics, traces). Structured logging. Prometheus & Grafana. Centralized logging (ELK or Loki). Alerting basics. | Deploy Prometheus + Grafana stack on OpenShift. Instrument services with metrics. Set up centralized logging. Create dashboards for system health. Configure alerts. |
| **Week 14 - CI/CD:** CI/CD pipelines. GitOps principles. OpenShift Pipelines (Tekton). Deployment strategies: rolling, blue-green. Infrastructure as Code. | Build CI pipeline: lint, test, build images, push to registry, deploy to OpenShift. Implement rolling deployments. Document infrastructure setup as code (Ansible playbooks). |

**Deliverable:** Full observability stack + automated pipeline from commit to deployment.

---

## Final (Weeks 15–16)

### Week 15: Final Review
- Review of all modules
- End-to-end project demonstration
- Architecture walkthrough and trade-off analysis
- Disaster recovery scenarios discussion

### Week 16: Final Exam
- Written portion: DFS concepts, consistency models, orchestration architecture
- Practical portion: troubleshoot from logs/metrics, design distributed system for given scenario

---

## Assessment Breakdown

| Component | Weight | Description |
|-----------|--------|-------------|
| Project Checkpoints | 40% | Weekly deliverables (10 checkpoints × 4%) |
| Mid-Term Exam | 25% | Written (15%) + Practical (10%) |
| Final Exam | 25% | Written (15%) + Practical (10%) |
| Participation | 10% | In-class exercises, peer reviews, documentation quality |

---

## Project Technology Stack

| Layer | Technology |
|-------|------------|
| OS/VMs | Linux (RHEL/CentOS/Fedora preferred for OpenShift compatibility) |
| Naming | BIND9 (DNS), OpenLDAP |
| Containers | Docker/Podman, Docker Compose |
| Orchestration | OpenShift (CodeReady Containers or Developer Sandbox) |
| Messaging | RabbitMQ |
| File Systems | NFS, Apache HDFS |
| Databases | PostgreSQL (with replication) |
| Load Balancing | HAProxy, Nginx |
| Observability | Prometheus, Grafana, Loki/ELK |
| CI/CD | OpenShift Pipelines (Tekton), Ansible |
| Languages | Python or Go (student choice) |

---

## Prerequisites

- Linux command line proficiency
- Basic programming (any language)
- Basic networking (IP, TCP, HTTP, DNS concepts)
- No prior container/orchestration experience required

---

## Recommended Resources

**Books:**
- *Distributed Systems: Concepts and Design* – Coulouris, Dollimore, Kindberg
- *Designing Data-Intensive Applications* – Martin Kleppmann
- *The Practice of System and Network Administration* – Limoncelli

**Documentation:**
- OpenShift Documentation (docs.openshift.com)
- Red Hat System Administration Guides
- Apache Hadoop Documentation

**Labs:**
- Red Hat Developer Sandbox (free OpenShift access)
- Katacoda/Killercoda interactive scenarios
